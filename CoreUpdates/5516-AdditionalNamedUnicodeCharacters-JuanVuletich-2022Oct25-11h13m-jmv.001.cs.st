'From Cuis 6.0 [latest update: #5506] on 25 October 2022 at 12:17:36 pm'!

!UnicodeCodePoint class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:57:44'!
arrowDown
	"
	UnicodeCodePoint arrowDown asString
	"
	^ self codePoint: 8595! !

!UnicodeCodePoint class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:58:01'!
arrowLeft
	"
	UnicodeCodePoint arrowLeft asString
	"
	^ self codePoint: 8592! !

!UnicodeCodePoint class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:57:39'!
arrowRight
	"
	UnicodeCodePoint arrowRight asString
	"
	^ self codePoint: 8594! !

!UnicodeCodePoint class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:57:16'!
arrowUp
	"
	UnicodeCodePoint arrowUp asString
	"
	^ self codePoint: 8593! !

!UnicodeCodePoint class methodsFor: 'constants' stamp: 'jmv 10/25/2022 12:16:22'!
namedCharactersTable
	"Table of named characters that we can enter in an editor using \name.
	Please keep the names short and try to follow the naming convention used in LaTeX."

	^`{ {#left. UnicodeCodePoint arrowLeft }. { #right. UnicodeCodePoint arrowRight }. { #up. UnicodeCodePoint arrowUp}. {#down. UnicodeCodePoint arrowDown }},
	#((oplus $âŠ•) (otimes $âŠ—) (times $Ã—) (div $Ã·) #(circ $âˆ˜) (cdot $Â·) (prod $âŠ“) (coprod $âŠ”) (perp $âŠ¥)),
	
	#((alpha $Î±) (beta $Î²) (gamma $Î³) (delta $Î´) (epsilon $Îµ) (zeta $Î¶) (eta $Î·) (theta $Î¸) (iota $Î¹) (kappa $Îº) (lambda $Î») (mu $Î¼) (nu $Î½) (xi $Î¾) (omicron $Î¿) (pi $Ï€) (rho $Ï) (sigmaf $Ï‚) (sigma $Ïƒ) (tau $Ï„) (upsilon $Ï…) (phi $Ï†) (chi $Ï‡) (psi $Ïˆ) (omega $Ï‰) (thetasym $Ï‘) (upsih $Ï’) (piv $Ï–)),
	#((Alpha $Î‘) (Beta $Î’) (Gamma $Î“) (Delta $Î”) (Epsilon $Î•) (Zeta $Î–) (Eta $Î—) (Theta $Î˜) (Iota $Î™) (Kappa $Îš) (Lambda $Î›) (Mu $Îœ) (Nu $Î) (Xi $Îž) (Omicron $ÎŸ) (Pi $Î ) (Rho $Î¡) (Sigma $Î£) (Tau $Î¤) (Upsilon $Î¥) (Phi $Î¦) (Chi $Î§) (Psi $Î¨) (Omega $Î©)),
	#((A $ð”¸) (B $ð”¹) (C $â„‚) (D $ð”») (E $ð”¼) (F $ð”½) (G $ð”¾) (H $â„) (I $ð•€) (J $ð•) (K $ð•‚) (L $ð•ƒ) (M $ð•„) (N $â„•) (O $ð•†) (P $â„™) (Q $â„š) (R $â„) (S $ð•Š) (T $ð•‹) (U $ð•Œ) (V $ð•) (W $ð•Ž) (X $ð•) (Y $ð•) (Z $â„¤)),
	
	#((infty $âˆž) (aleph $â„µ) (sqrt $âˆš) (partial $âˆ‚) (deg $Â°)),
	
	#((dag $â€ ) (ddag $â€¡) (emdash $â€”) (endash $â€“) (questiondown $Â¿) (exclamdown $Â¡)
	(euro $â‚¬) (pounds $Â£) 
	(celsius $â„ƒ) (farenheit $â„‰)
	(registered $Â®) (copyright $Â©) (trademark $â„¢) 
	(snowman $â˜ƒ)
	(section $Â§))`.! !


!Character class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:58:31'!
arrowDown
	"
	Character arrowDown
	"
	^ UnicodeCodePoint arrowDown! !

!Character class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:58:40'!
arrowLeft
	"
	Character arrowLeft
	"
	^ UnicodeCodePoint arrowLeft! !

!Character class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:58:45'!
arrowRight
	"
	Character arrowRight
	"
	^ UnicodeCodePoint arrowRight! !

!Character class methodsFor: 'accessing untypeable characters' stamp: 'jmv 8/4/2022 17:58:51'!
arrowUp
	"
	Character arrowUp
	"
	^ UnicodeCodePoint arrowUp! !


!UnicodeCodePoint methodsFor: 'printing' stamp: 'jmv 10/25/2022 12:05:16'!
printOn: aStream 
	aStream nextPut: $$.
	aStream nextPut: self.
	aStream nextPut: $(.
	aStream nextPutAll: self hex.
	aStream nextPut: $).! !


!SmalltalkEditor methodsFor: 'do-its' stamp: 'jmv 10/25/2022 12:04:05'!
printIt
	"Treat the current text selection as an expression; evaluate it. Insert the 
	description of the result of evaluation after the selection and then make 
	this description the new text selection."
	| rpt |
	self
		evaluateSelectionAndDo: [ :result |
			rpt _ model fullPrintIt
				ifTrue: [result printText]
				ifFalse: [result printTextLimitedTo: 10000].
			rpt _ rpt copyReplaceAll: String lfString with: String lfString, ' '.
			self afterSelectionInsertAndSelect: 
				((' ', rpt, ' ') initialFontFrom: emphasisHere)]
		ifFail: [ morph flash ]
		profiled: false.! !

!SmalltalkEditor methodsFor: 'typing/selecting keys' stamp: 'jmv 10/25/2022 11:37:39'!
normalCharacter: aKeyboardEvent 
	"A nonspecial character is to be added to the stream of characters."

	| stopIndex startIndex string key |
	aKeyboardEvent keyCharacter isLetter ifTrue: [^ super normalCharacter: aKeyboardEvent].
	"Allow to enter named (otherwise untypable) characters like the alpha greek letter as \alpha."
	string _ self privateCurrentString.
	stopIndex _ self pointIndex - 1.
	(stopIndex between: 2 and: string size)
		ifFalse: [^ super normalCharacter: aKeyboardEvent].
	startIndex _ stopIndex.
	"Look backwards and find a character that is not a letter (we want to find '\' just a few characters behind):"
	[startIndex > 0 and: [stopIndex - startIndex < 20 and: [(string at: startIndex) isLetter]]] whileTrue: [startIndex _ startIndex - 1].
	(startIndex > 0 and: [(string at: startIndex) = $\])
		ifFalse: [^ super normalCharacter: aKeyboardEvent].
	key _ string copyFrom: startIndex+1 to: stopIndex.
	(UnicodeCodePoint namedCharactersTable detect: [:one| key = one first] ifNone: [])
		ifNotNil: [:aPair| self selectFrom: startIndex to: stopIndex; replaceSelectionWith: (self stringClassToUse with: aPair second)].
	^ super normalCharacter: aKeyboardEvent! !

!methodRemoval: Character class #namedCharactersTable stamp: 'jmv 10/25/2022 11:36:12'!
Character class removeSelector: #namedCharactersTable!

!UnicodeCodePoint class reorganize!
('instance creation' codePoint:)
('class initialization' initialize)
('accessing untypeable characters' arrowDown arrowLeft arrowRight arrowUp)
('constants' namedCharactersTable)
!

